# My AI Diary v2.0 - ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰

**æœ€çµ‚æ›´æ–°**: 2025-10-18

---

## ğŸš€ 3åˆ†ã§ã‚ã‹ã‚‹æ–°è¦é–‹ç™ºè¨ˆç”»

### ã“ã‚Œã¾ã§ã®çµŒç·¯
1. **æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: Create React App + OpenAIç›´æ¥å‘¼ã³å‡ºã—
2. **å¸‚å ´èª¿æŸ»**: æˆé•·å¸‚å ´ï¼ˆCAGR 13.9%ï¼‰ã€ç«¶åˆåˆ†æå®Œäº†
3. **æ±ºå®š**: Next.js 15ã§æ–°è¦é–‹ç™ºï¼ˆ3-4é€±é–“ã§å®Œæˆäºˆå®šï¼‰

### ãªãœæ–°è¦é–‹ç™ºï¼Ÿ
- âœ… Claude Codeã§é«˜é€Ÿé–‹ç™ºå¯èƒ½
- âœ… æ—¢å­˜UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ90%å†åˆ©ç”¨
- âœ… ãƒ¢ãƒ€ãƒ³ã‚¹ã‚¿ãƒƒã‚¯ã§å°†æ¥æ€§ãŒé«˜ã„
- âœ… åˆæœŸã‚³ã‚¹ãƒˆç„¡æ–™ï¼ˆSupabase + Vercel Free tierï¼‰
- âœ… é–‹ç™ºæœŸé–“ãŒæ”¹ä¿®ã‚ˆã‚Š2é€±é–“çŸ­ç¸®

---

## ğŸ“š é‡è¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ | ç”¨é€” |
|---------|------|------|
| **NEW_PROJECT_PLAN.md** | å®Œå…¨ãªé–‹ç™ºè¨ˆç”»æ›¸ | å…¨ä½“åƒã®æŠŠæ¡ |
| **MIGRATION_ASSETS.md** | ç§»æ¤è³‡ç”£ãƒªã‚¹ãƒˆ | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç§»æ¤æ™‚ |
| **QUICK_START.md** | ã“ã®ãƒ•ã‚¡ã‚¤ãƒ« | ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ |

---

## ğŸ’» æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯æ—©è¦‹è¡¨

```
ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰:   Next.js 15 + React 19 + TypeScript
ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°:     Tailwind CSS v4
ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰:     Next.js API Routesï¼ˆã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ï¼‰
èªè¨¼ãƒ»DB:        Supabaseï¼ˆPostgreSQLï¼‰
æ±ºæ¸ˆ:           Stripe
AI:             OpenAI APIï¼ˆGPT-4o-miniï¼‰
ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°:     Vercel
```

---

## ğŸ¯ é–‹ç™ºã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

```
Week 1: åŸºç›¤æ§‹ç¯‰ï¼ˆNext.js + Supabase + èªè¨¼ï¼‰
Week 2: ã‚³ã‚¢æ©Ÿèƒ½ï¼ˆãƒãƒ£ãƒƒãƒˆ + AI + æ—¥è¨˜ç”Ÿæˆï¼‰
Week 3: ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆStripe + ä½¿ç”¨é‡åˆ¶é™ï¼‰
Week 4: ç¶™ç¶šæ”¯æ´æ©Ÿèƒ½ + ãƒ‡ãƒ—ãƒ­ã‚¤
```

---

## ğŸ ä»Šã™ãå§‹ã‚ã‚‹æ‰‹é †ï¼ˆ30åˆ†ï¼‰

### 1. æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
```bash
npx create-next-app@latest my-ai-diary-v2 \
  --typescript \
  --tailwind \
  --app \
  --src-dir

cd my-ai-diary-v2
```

### 2. ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
pnpm add @supabase/supabase-js @supabase/auth-helpers-nextjs
pnpm add stripe @stripe/stripe-js
pnpm add openai
pnpm add zustand @tanstack/react-query
```

### 3. Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
1. https://supabase.com/dashboard ã«ã‚¢ã‚¯ã‚»ã‚¹
2. "New project" ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå: `my-ai-diary-v2`
4. ãƒªãƒ¼ã‚¸ãƒ§ãƒ³: `Northeast Asia (Tokyo)`
5. APIã‚­ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼

### 4. ç’°å¢ƒå¤‰æ•°è¨­å®š
```bash
# .env.local ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
cat > .env.local << EOF
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_key
OPENAI_API_KEY=your_openai_key
EOF
```

### 5. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```bash
pnpm dev
# http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
```

---

## ğŸ“‹ Phase 1 (Week 1-2) ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### å¿…é ˆã‚¿ã‚¹ã‚¯

**åŸºç›¤:**
- [ ] Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [ ] Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒå®Ÿè£…ï¼ˆNEW_PROJECT_PLAN.mdå‚ç…§ï¼‰
- [ ] èªè¨¼ãƒ•ãƒ­ãƒ¼å®Ÿè£…ï¼ˆãƒ­ã‚°ã‚¤ãƒ³/ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ï¼‰

**UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç§»æ¤:**
- [ ] `ChatView.tsx` ã‚’ã‚³ãƒ”ãƒ¼ãƒ»ä¿®æ­£
- [ ] `Message.tsx` ã‚’ã‚³ãƒ”ãƒ¼
- [ ] `MessageList.tsx` ã‚’ã‚³ãƒ”ãƒ¼
- [ ] `MessageInput.tsx` ã‚’ã‚³ãƒ”ãƒ¼
- [ ] `DiaryView.tsx` ã‚’ã‚³ãƒ”ãƒ¼ãƒ»ä¿®æ­£
- [ ] `CalendarView.tsx` ã‚’ã‚³ãƒ”ãƒ¼

**APIå®Ÿè£…:**
- [ ] `/api/chat/route.ts` ï¼ˆOpenAIé€£æºï¼‰
- [ ] `/api/diary/route.ts` ï¼ˆæ—¥è¨˜ç”Ÿæˆï¼‰
- [ ] ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¿å­˜ãƒ­ã‚¸ãƒƒã‚¯

**å‹•ä½œç¢ºèª:**
- [ ] ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹
- [ ] ãƒãƒ£ãƒƒãƒˆã§ãã‚‹
- [ ] æ—¥è¨˜ãŒç”Ÿæˆã•ã‚Œã‚‹
- [ ] æ—¥è¨˜ãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

## ğŸ’° ãƒãƒã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³æ—©è¦‹è¡¨

### ä¾¡æ ¼è¨­å®š
```
ç„¡æ–™:     Â¥0    ï¼ˆ1æ—¥3å›ã¾ã§ï¼‰
æœˆé¡:     Â¥980  ï¼ˆç„¡åˆ¶é™ï¼‰
å¹´é¡:     Â¥6,800ï¼ˆ30%ã‚ªãƒ•ï¼‰
å­¦å‰²:     Â¥680  ï¼ˆ30%ã‚ªãƒ•ï¼‰
```

### åç›Šäºˆæ¸¬ï¼ˆ1å¹´ç›®ï¼‰
```
æœˆé–“ãƒ¦ãƒ¼ã‚¶ãƒ¼:    1,000äºº
ãƒ•ãƒªãƒ¼ãƒŸã‚¢ãƒ å¤‰æ›: 3%ï¼ˆ30äººï¼‰
æœˆé–“åç›Š:       Â¥29,400
å¹´é–“åç›Š:       Â¥352,800
```

---

## ğŸ¨ æ—¢å­˜UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ´»ç”¨

### ã™ãä½¿ãˆã‚‹ï¼ˆ90%ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰

```bash
# æ—§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã‚³ãƒ”ãƒ¼
cp src/components/ChatView.tsx ../my-ai-diary-v2/src/components/chat/
cp src/components/Message.tsx ../my-ai-diary-v2/src/components/chat/
cp src/components/MessageList.tsx ../my-ai-diary-v2/src/components/chat/
cp src/components/MessageInput.tsx ../my-ai-diary-v2/src/components/chat/
cp src/components/DiaryView.tsx ../my-ai-diary-v2/src/components/diary/
cp src/components/CalendarView.tsx ../my-ai-diary-v2/src/components/diary/
```

**ä¿®æ­£ç®‡æ‰€ï¼ˆå„ãƒ•ã‚¡ã‚¤ãƒ«5-10åˆ†ï¼‰:**
1. Importæ–‡ã‚’ `@/` ãƒ‘ã‚¹ã«å¤‰æ›´
2. APIå‘¼ã³å‡ºã—ã‚’ `/api/chat` ã«å¤‰æ›´
3. ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’Supabaseã«å¤‰æ›´

è©³ç´°ã¯ **MIGRATION_ASSETS.md** å‚ç…§

---

## ğŸ”‘ é‡è¦ãªã‚³ãƒ¼ãƒ‰ä¾‹

### 1. Supabase ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
```typescript
// lib/supabase/client.ts
import { createClientComponentClient } from '@supabase/auth-helpers-nextjs'

export const supabase = createClientComponentClient()
```

### 2. ãƒãƒ£ãƒƒãƒˆAPI
```typescript
// app/api/chat/route.ts
import { OpenAI } from 'openai'
import { createRouteHandlerClient } from '@supabase/auth-helpers-nextjs'

export async function POST(request: Request) {
  const supabase = createRouteHandlerClient({ cookies })

  // èªè¨¼ç¢ºèª
  const { data: { user } } = await supabase.auth.getUser()
  if (!user) return new Response('Unauthorized', { status: 401 })

  // ã‚µãƒ–ã‚¹ã‚¯ãƒ»ä½¿ç”¨é‡ç¢ºèª
  // ...

  // OpenAI APIå‘¼ã³å‡ºã—
  const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY })
  const response = await openai.chat.completions.create({...})

  return Response.json(response)
}
```

### 3. èªè¨¼ãƒ•ãƒƒã‚¯
```typescript
// lib/hooks/useAuth.ts
import { useEffect, useState } from 'react'
import { supabase } from '@/lib/supabase/client'

export function useAuth() {
  const [user, setUser] = useState(null)

  useEffect(() => {
    supabase.auth.getSession().then(({ data: { session } }) => {
      setUser(session?.user ?? null)
    })

    const { data: { subscription } } = supabase.auth.onAuthStateChange(
      (_event, session) => {
        setUser(session?.user ?? null)
      }
    )

    return () => subscription.unsubscribe()
  }, [])

  return { user }
}
```

---

## ğŸ› ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨è§£æ±ºæ³•

### ã‚¨ãƒ©ãƒ¼1: Supabaseæ¥ç¶šã‚¨ãƒ©ãƒ¼
```bash
# ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª
echo $NEXT_PUBLIC_SUPABASE_URL

# .env.local ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
cat .env.local
```

### ã‚¨ãƒ©ãƒ¼2: OpenAI API ã‚¨ãƒ©ãƒ¼
```bash
# APIã‚­ãƒ¼ã®ç¢ºèª
curl https://api.openai.com/v1/models \
  -H "Authorization: Bearer $OPENAI_API_KEY"
```

### ã‚¨ãƒ©ãƒ¼3: ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼
```bash
# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
rm -rf .next
pnpm dev
```

---

## ğŸ“± ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

- âœ… iOS Safariï¼ˆãƒ¢ãƒã‚¤ãƒ«ï¼‰
- âœ… Android Chromeï¼ˆãƒ¢ãƒã‚¤ãƒ«ï¼‰
- âœ… Chrome/Firefox/Safariï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ï¼‰
- âœ… PWAå¯¾å¿œï¼ˆPhase 2ä»¥é™ï¼‰

---

## ğŸ“ å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [Next.js Docs](https://nextjs.org/docs)
- [Supabase Docs](https://supabase.com/docs)
- [Stripe Docs](https://stripe.com/docs)

### ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
- [Next.js + Supabase Tutorial](https://supabase.com/docs/guides/getting-started/quickstarts/nextjs)
- [Next.js + Stripe Subscriptions](https://github.com/vercel/nextjs-subscription-payments)

---

## ğŸ“ è³ªå•ãƒ»ã‚µãƒãƒ¼ãƒˆ

### é–‹ç™ºä¸­ã®è³ªå•
1. **NEW_PROJECT_PLAN.md** ã‚’å‚ç…§
2. **MIGRATION_ASSETS.md** ã§ç§»æ¤æ–¹æ³•ç¢ºèª
3. å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¤œç´¢
4. Claude Codeã«è³ªå•

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±
- **æ—§æœ¬ç•ªç’°å¢ƒ**: https://my-ai-diary-ten.vercel.app/
- **GitHubï¼ˆæ—§ï¼‰**: https://github.com/Fumiyasu01/my-ai-diary

---

## âœ… æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

**ä»Šæ—¥ã‚„ã‚‹ã“ã¨:**
1. [ ] Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆï¼ˆ10åˆ†ï¼‰
2. [ ] Supabaseã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆï¼ˆ5åˆ†ï¼‰
3. [ ] ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆ5åˆ†ï¼‰
4. [ ] Hello Worldç¢ºèªï¼ˆ5åˆ†ï¼‰

**æ˜æ—¥ã‚„ã‚‹ã“ã¨:**
1. [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒå®Ÿè£…
2. [ ] èªè¨¼ãƒ•ãƒ­ãƒ¼å®Ÿè£…
3. [ ] æœ€åˆã®UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç§»æ¤

**ä»Šé€±ã®ã‚´ãƒ¼ãƒ«:**
- [ ] ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½å®Œæˆ
- [ ] ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½å®Œæˆ
- [ ] æ—¢å­˜UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå…¨ã¦ç§»æ¤

---

## ğŸ‰ é–‹ç™ºã‚’å§‹ã‚ã¾ã—ã‚‡ã†ï¼

```bash
# Step 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
npx create-next-app@latest my-ai-diary-v2 --typescript --tailwind --app

# Step 2: ç§»å‹•
cd my-ai-diary-v2

# Step 3: é–‹ç™ºé–‹å§‹ï¼
pnpm dev
```

**è©³ç´°ã¯ NEW_PROJECT_PLAN.md ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚**

**æˆåŠŸã‚’ç¥ˆã‚Šã¾ã™ï¼ğŸš€**
